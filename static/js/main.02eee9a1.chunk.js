(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,n){e.exports=n(35)},30:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(12),c=n.n(s),l=n(3),o=n(1),i=(n(30),n(8)),u=function(){var e=i.a;return function(t){t({type:"@@songs/GET_SEND_REQUEST"}),fetch(e).then(function(e){if(e.ok)return e.json();throw new Error(e.status)}).then(function(e){t(function(e){return{type:"@@songs/GET_RESPONCE_SERVER",dataList:e}}(e))}).catch(function(e){return t(function(e){return console.log(e),{type:"@@songs/GET_ERROR_SERVER"}}(e))})}},E=function(e,t,n){var a={SINGERS:[],GENRES:[],YEARS:[],SORTING:n},r=i.a+"?index="+e+"&limit="+t;return function(e){e({type:"@@songs/POST_SEND_REQUEST"}),fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a),json:!0}).then(function(e){if(e.ok)return e.json();throw new Error(e.status)}).then(function(t){e(function(e){return{type:"@@songs/POST_RESPONCE_SERVER",dataList:e}}(t))}).catch(function(t){return e(function(e){return console.log(e),{type:"@@songs/POST_ERROR_SERVER"}}(t))})}},m=function(e){return function(t){var n=e.currentTarget.childNodes,a={};switch(e.target.dataset.sort){case"0":case"-1":e.target.dataset.sort="1";break;case"1":e.target.dataset.sort="-1";break;default:e.target.dataset.sort="1"}return n.forEach(function(t){t.className!==e.target.className&&(t.dataset.sort="0")}),a[e.target.className]=+e.target.dataset.sort,t(function(e){return{type:"@@songs/SORTING",sorting:e}}(a))}},d=function(e){return function(t){return t(function(e){return{type:"@@songs/SET_INDEX",index:e}}(++e.selected))}},g=function(e){return function(t){return t({type:"@@songs/SET_LIMIT",limit:+e.target.dataset.value})}},p=function(e){return Object(l.b)(function(e){return{isError:e.songs.isError,loading:e.songs.loading}},function(e){return Object(o.b)({fetchData:u},e)})(function(t){return r.a.createElement(e,t)})},f=function(){return r.a.createElement("div",{className:"preloader__container"},r.a.createElement("div",{className:"preloader"}),r.a.createElement("div",{className:"preloader"}),r.a.createElement("div",{className:"preloader"}),r.a.createElement("div",{className:"preloader"}),r.a.createElement("div",{className:"preloader"}))},S=function(){return r.a.createElement("h2",null,"Something went wrong.. Restart the page!")},b=n(2),N=function(e){return Object(l.b)(function(e){return Object(b.a)({},e.songs)},function(e){return Object(o.b)({sortAction:m,setIndex:d,setLimit:g},e)})(function(t){return r.a.createElement(e,t)})},O=n(14),R=n(15),h=n(19),_=n(16),T=n(20),j=function(e){var t=function(t){return e.SORTING.hasOwnProperty(t)?e.SORTING[t]:0};return r.a.createElement(a.Fragment,null,r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",{onClick:e.sortAction},r.a.createElement("th",{className:"singer","data-sort":t("singer")},"\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c"),r.a.createElement("th",{className:"song","data-sort":t("song")},"\u041f\u0435\u0441\u043d\u044f"),r.a.createElement("th",{className:"genre","data-sort":t("genre")},"\u0416\u0430\u043d\u0440"),r.a.createElement("th",{className:"year","data-sort":t("year")},"\u0413\u043e\u0434")),e.loading[1]?r.a.createElement("tr",null,r.a.createElement("td",{className:"preloader__row",colSpan:"4"},r.a.createElement("div",{className:"preloader__row__container"},r.a.createElement(f,null)))):e.isError[1]?r.a.createElement("tr",null,r.a.createElement("td",{className:"preloader__row",colSpan:"4"},r.a.createElement(S,null))):void 0===e.dataList.SONGS?r.a.createElement("tr",null):e.dataList.SONGS.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.singer),r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.genre),r.a.createElement("td",null,e.year))}))))},v=n(17),G=n.n(v),y=function(e){return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"react-paginate"},r.a.createElement(G.a,{previousLabel:"<",nextLabel:">",breakLabel:"..",breakClassName:"break-me",pageCount:e.dataList.PAGES,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:e.setIndex,containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"}),r.a.createElement("div",{className:"paginate__limit",onClick:e.setLimit},r.a.createElement("button",{className:"limit-button","data-value":"10"},"10"),r.a.createElement("button",{className:"limit-button","data-value":"25"},"25"),r.a.createElement("button",{className:"limit-button","data-value":"50"},"50"),r.a.createElement("button",{className:"limit-button","data-value":"100"},"100"))))},L=function(e){function t(){return Object(O.a)(this,t),Object(h.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(R.a)(t,[{key:"componentDidUpdate",value:function(e){e.SORTING===this.props.SORTING&&e.index===this.props.index&&e.limit===this.props.limit||this.props.fetchPostData(this.props.index,this.props.limit,this.props.SORTING)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j,this.props),r.a.createElement(y,this.props))}}]),t}(a.Component),I=Object(l.b)(null,function(e){return Object(o.b)({fetchPostData:E},e)})(L),P=N(function(e){return r.a.createElement("div",{className:"playlist"},r.a.createElement("span",null,"\u041f\u043b\u0435\u0439\u043b\u0438\u0441\u0442"),r.a.createElement(I,e))}),w=(function(e){Object(l.b)(function(e){return{singers:e.songs.dataList.SINGERS,genres:e.songs.dataList.GENRES,years:e.songs.dataList.YEARS}},null)(function(t){return r.a.createElement(e,t)})}(function(e){return r.a.createElement("div",{className:"filters"},r.a.createElement("span",null,"\u0424\u0438\u043b\u044c\u0442\u0440"))}),function(){return r.a.createElement("div",{className:"container"},r.a.createElement(P,null))}),k=p(function(e){return r.a.createElement(a.Fragment,null,e.loading[0]?r.a.createElement(f,null):e.isError[0]?r.a.createElement(S,null):r.a.createElement(w,null))}),x=Object(l.b)(null,function(e){return Object(o.b)({fetchGetData:u},e)})(function(e){return e.fetchGetData(),r.a.createElement(k,null)}),C=n(18),D={loading:[!1,!1],isError:[!1,!1],dataList:{},index:1,limit:10,SINGERS:[],GENRES:[],YEARS:[],SORTING:{singer:1}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@@songs/GET_SEND_REQUEST":return Object(b.a)({},e,{loading:[!0,!1]});case"@@songs/GET_RESPONCE_SERVER":return Object(b.a)({},e,{loading:[!1,!1],dataList:t.dataList});case"@@songs/GET_ERROR_SERVER":return Object(b.a)({},e,{loading:[!1,!1],isError:[!0,!1]});case"@@songs/POST_SEND_REQUEST":return Object(b.a)({},e,{loading:[!1,!0]});case"@@songs/POST_RESPONCE_SERVER":return e.index>t.dataList.PAGES?Object(b.a)({},e,{loading:[!1,!1],dataList:t.dataList,index:t.dataList.PAGES}):Object(b.a)({},e,{loading:[!1,!1],dataList:t.dataList});case"@@songs/POST_ERROR_SERVER":return Object(b.a)({},e,{loading:[!1,!1],isError:[!1,!0]});case"@@songs/SORTING":return Object(b.a)({},e,{SORTING:t.sorting});case"@@songs/SET_INDEX":return Object(b.a)({},e,{index:t.index});case"@@songs/SET_LIMIT":return Object(b.a)({},e,{limit:t.limit});default:return e}},V=Object(o.c)({songs:A}),U=Object(o.d)(V,Object(o.a)(C.a)),Q=function(){return r.a.createElement(l.a,{store:U},r.a.createElement(x,null))};c.a.render(r.a.createElement(Q,null),document.getElementById("root"))},8:function(e){e.exports={a:"http://back-end.nanoapp.io/api/songs/"}}},[[21,2,1]]]);
//# sourceMappingURL=main.02eee9a1.chunk.js.map